<%- include('../partials/html-head') %>
<link rel="stylesheet" href="/stylesheets/recipes/new.css" />
<%- include('../partials/nav') %>

<main>
  <h1 id="new-title"><%= title %></h1>
  <div id="form-container">
    <form action="/recipes" method="POST">
      <label for="recipe-input" class="labels">Recipe Name:</label>
      <input type="text" name="recipeName" id="recipe-input" class="input-field">
      <div id="ingredients-section">
        <div id="ingredient-name-container" class="container-div">
          <label for="ingredient-name" class="labels">Ingredient Name:</label>
          <input type="text" name="ingredientName" id="ingredient-name" class="input-field">
        </div>
        <div id="ingredient-quantity-container" class="container-div">
          <label for="ingredient-quantity" class="labels">Quantity:</label>
          <input type="text" name="quantity" id="ingredient-quantity" class="input-field">
        </div>
        <div id="ingredient-unit-container" class="container-div">
          <label for="ingredient-unit" class="labels">Unit of Measurement:</label>
          <select name="unit" id="ingredient-unit" class="input-field">
            <option value="milliliter(s)">milliliter(s)</option>
            <option value="liter(s)">liter(s)</option>
            <option value="deciliter(s)">deciliter(s)</option>
            <option value="teaspoon(s)">teaspoon(s)</option>
            <option value="tablespoon(s)">tablespoon(s)</option>
            <option value="fluid ounce(s)">fluid ounce(s)</option>
            <option value="gill(s)">gill(s)</option>
            <option value="cup(s)">cup(s)</option>
            <option value="pint(s)">pint(s)</option>
            <option value="quart(s)">quart(s)</option>
            <option value="gallon(s)">gallon(s)</option>
            <option value="milligram(s)">milligram(s)</option>
            <option value="gram(s)">gram(s)</option>
            <option value="kilogram(s)">kilogram(s)</option>
            <option value="pound(s)">pound(s)</option>
            <option value="ounce(s)">ounce(s)</option>
          </select>
        </div>
      </div>
      <button type="button" id="add-ingredient-button" class="new-btns">Add Another Ingredient</button>
      <div id="instructions-input-container" class="container-div">
        <label for="instructions-input" class="labels">Instructions:</label>
        <input type="text" name="instructions" id="instructions-input" class="input-field">
      </div>
      <button type="submit" class="new-btns">Add Recipe</button>
    </form>
  </div>
</main>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const addIngredientButton = document.getElementById('add-ingredient-button');
    const ingredientsSection = document.getElementById('ingredients-section');
    addIngredientButton.addEventListener('click', function() {
      // Clone the ingredients section
      const newIngredientSection = ingredientsSection.cloneNode(true);
      // Clear the values of the cloned section
      newIngredientSection.querySelector('#ingredient-quantity').value = '';
      newIngredientSection.querySelector('#ingredient-name').value = '';
      newIngredientSection.querySelector('#ingredient-unit').value = '';
      // Append the cloned section to the parent
      ingredientsSection.parentNode.insertBefore(newIngredientSection, addIngredientButton);
    });
  });
</script>

<%- include('../partials/footer') %>
